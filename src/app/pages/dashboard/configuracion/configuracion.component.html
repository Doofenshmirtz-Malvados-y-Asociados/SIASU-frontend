<div class="p-12 w-full h-full flex flex-col">
    <!-- Heading of the page -->
    <div class="border-b border-border w-full grid gap-4">
        <h2 class="text-3xl font-bold text-foreground">Configuración</h2>
        <div class="flex justify-left">
            <button (click)="changeTabValue(0)" [classList]="(this.currentTab === 0) ? 'w-1/12 p-2 font-bold border-b border-primary hover:bg-secondary animation duration-200 flex gap-2 place-items-center justify-center' : 'w-1/12 p-2 text-muted-foreground hover:bg-secondary hover:text-foreground animation duration-200 flex gap-2 place-items-center justify-center'">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3.25C2.5 1.45507 3.95507 0 5.75 0H6.25C8.04493 0 9.5 1.45507 9.5 3.25V3.75C9.5 5.54493 8.04493 7 6.25 7H5.75C3.95507 7 2.5 5.54493 2.5 3.75V3.25ZM5.75 1.5C4.7835 1.5 4 2.2835 4 3.25V3.75C4 4.7165 4.7835 5.5 5.75 5.5H6.25C7.2165 5.5 8 4.7165 8 3.75V3.25C8 2.2835 7.2165 1.5 6.25 1.5H5.75ZM1.5 13.1694C2.32482 11.4909 3.71318 10.5 5.5 10.5V9C2.97349 9 1.0827 10.4894 0.0690305 12.6857L0 12.8353V13V15.25V16H0.75H5.5V14.5H1.5V13.1694ZM10.0915 10.2175C10.4564 10.0309 10.7944 9.70265 10.9642 9.25H11.0358C11.2056 9.70265 11.5436 10.0309 11.9085 10.2175C11.9698 10.2488 12.0294 10.2833 12.0871 10.3208C12.4317 10.5446 12.886 10.6736 13.3637 10.5941L13.3994 10.6559C13.0923 11.0289 12.9765 11.4857 12.9973 11.8955C12.9991 11.93 13 11.9649 13 12C13 12.0351 12.9991 12.07 12.9973 12.1044C12.9765 12.5143 13.0923 12.9711 13.3994 13.3441L13.3637 13.4059C12.886 13.3264 12.4317 13.4554 12.0871 13.6792C12.0294 13.7167 11.9698 13.7512 11.9085 13.7825C11.5436 13.9691 11.2056 14.2973 11.0358 14.75H10.9642C10.7944 14.2973 10.4564 13.9691 10.0915 13.7825C10.0302 13.7512 9.97058 13.7167 9.91294 13.6792C9.56829 13.4554 9.11402 13.3264 8.63627 13.4059L8.60059 13.3441C8.90769 12.9711 9.02353 12.5144 9.00265 12.1045C9.00089 12.07 9 12.0351 9 12C9 11.9649 9.00089 11.93 9.00265 11.8955C9.02353 11.4856 8.9077 11.0289 8.60061 10.6559L8.63629 10.5941C9.11403 10.6736 9.56829 10.5446 9.91295 10.3208C9.97059 10.2833 10.0302 10.2488 10.0915 10.2175ZM14.4037 11.4079L14.9641 10.866L13.9641 9.13398L13.215 9.34827C13.0629 9.39177 12.9006 9.35863 12.7679 9.27247C12.6743 9.21169 12.5774 9.15559 12.4775 9.1045C12.3369 9.03257 12.2272 8.90865 12.1888 8.75537L12 8H10L9.81116 8.75537C9.77284 8.90865 9.66315 9.03257 9.52247 9.1045C9.42257 9.15558 9.32566 9.21168 9.23208 9.27247C9.09943 9.35862 8.93709 9.39176 8.78502 9.34826L8.03591 9.13397L7.03591 10.866L7.5963 11.4079C7.70977 11.5176 7.7623 11.6743 7.75427 11.8319C7.75143 11.8876 7.75 11.9436 7.75 12C7.75 12.0564 7.75143 12.1124 7.75427 12.168C7.7623 12.3257 7.70977 12.4824 7.5963 12.5921L7.03589 13.134L8.03589 14.866L8.78501 14.6517C8.93708 14.6082 9.09942 14.6414 9.23207 14.7275C9.32566 14.7883 9.42257 14.8444 9.52248 14.8955C9.66315 14.9674 9.77284 15.0913 9.81116 15.2446L10 16H12L12.1888 15.2446C12.2272 15.0913 12.3369 14.9674 12.4775 14.8955C12.5774 14.8444 12.6743 14.7883 12.7679 14.7275C12.9006 14.6414 13.0629 14.6082 13.215 14.6517L13.9641 14.866L14.9641 13.134L14.4037 12.5921C14.2902 12.4824 14.2377 12.3257 14.2457 12.168C14.2486 12.1124 14.25 12.0564 14.25 12C14.25 11.9436 14.2486 11.8876 14.2457 11.832C14.2377 11.6743 14.2902 11.5176 14.4037 11.4079Z" fill="currentColor"></path></svg>
                Cuenta
            </button>
            <button (click)="changeTabValue(1)" [classList]="(this.currentTab === 1) ? 'w-1/12 p-2 font-bold border-b border-primary hover:bg-secondary animation duration-200 flex gap-2 place-items-center justify-center' : 'w-1/12 p-2 text-muted-foreground hover:bg-secondary hover:text-foreground animation duration-200 flex gap-2 place-items-center justify-center'">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 9.52717V4.057C3.69054 4.00405 3.8926 3.95131 4.10681 3.8954L4.10684 3.89539C4.25396 3.85699 4.40682 3.81709 4.5656 3.7746C5.15243 3.61758 5.79596 3.43066 6.38899 3.17017C6.97334 2.91351 7.55664 2.56529 8 2.05704C8.44336 2.56529 9.02666 2.91351 9.61101 3.17017C10.204 3.43066 10.8476 3.61758 11.4344 3.7746C11.5932 3.81709 11.746 3.85699 11.8932 3.89539C12.1074 3.9513 12.3094 4.00405 12.5 4.057V9.52717C12.5 10.9221 11.7257 12.2018 10.49 12.849L8 14.1533L5.50997 12.849C4.27429 12.2018 3.5 10.9221 3.5 9.52717ZM6.87802 1.06132C7.10537 0.796772 7.25 0.467199 7.25 0H8.75C8.75 0.467199 8.89463 0.796772 9.12198 1.06132C9.3643 1.34329 9.73045 1.58432 10.2142 1.79681C10.6962 2.00853 11.2465 2.17155 11.8221 2.32558C11.9557 2.36133 12.0926 2.39704 12.2305 2.43301L12.2307 2.43305C12.6631 2.54586 13.1054 2.66124 13.4872 2.78849L14 2.95943V3.5V9.52717C14 11.4801 12.916 13.2716 11.186 14.1778L8.34801 15.6644L8 15.8467L7.65199 15.6644L4.81396 14.1778C3.084 13.2716 2 11.4801 2 9.52717V3.5V2.95943L2.51283 2.78849C2.89458 2.66124 3.33687 2.54586 3.76932 2.43305L3.7694 2.43303C3.90732 2.39706 4.04424 2.36134 4.17787 2.32558C4.75351 2.17155 5.30375 2.00853 5.78576 1.79681C6.26955 1.58432 6.6357 1.34329 6.87802 1.06132ZM10.5303 7.53033L11.0607 7L10 5.93934L9.46967 6.46967L7 8.93934L6.53033 8.46967L6 7.93934L4.93934 9L5.46967 9.53033L6.46967 10.5303C6.76256 10.8232 7.23744 10.8232 7.53033 10.5303L10.5303 7.53033Z" fill="currentColor"></path></svg>
                Seguridad
            </button>
            <button (click)="changeTabValue(2)" [classList]="(this.currentTab === 2) ? 'w-1/12 p-2 font-bold border-b border-primary hover:bg-secondary animation duration-200 flex gap-2 place-items-center justify-center' : 'w-1/12 p-2 text-muted-foreground hover:bg-secondary hover:text-foreground animation duration-200 flex gap-2 place-items-center justify-center'">
                <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.28497 1.5H13V12C13 12.5523 12.5523 13 12 13H6.28497L6.28497 1.5ZM5.03497 1.5H3V12C3 12.5523 3.44772 13 4 13H5.03497L5.03497 1.5ZM5.03497 14.5H4C2.61929 14.5 1.5 13.3807 1.5 12V1.5V0H3H13H14.5V1.5V12C14.5 13.3807 13.3807 14.5 12 14.5H6.28497V15V15.625H5.03497V15V14.5ZM8.505 3.375H9.13H10.13H10.755V4.625H10.13H9.13H8.505V3.375ZM9.13 6.375H8.505V7.625H9.13H10.13H10.755V6.375H10.13H9.13Z" fill="currentColor"></path></svg>
                Carrera
            </button>
        </div>
    </div>

    @if (this.currentTab === 0) {
        <section class="mt-8 bg-background rounded p-8 grid grid-cols-1 gap-4 border border-border h-full">
            <form class="h-full relative" [formGroup]="accountSettingsForm" (ngSubmit)="onAccountSettingsFormSubmit()">
                <div class="flex border-b gap-4 border-border pb-4">
                    <div class="w-1/3">
                        <p class="font-bold">Nombre</p>
                        <p class="text-muted-foreground">Modifica el nombre de tu cuenta</p>
                    </div>
                    <input 
                        type="text" 
                        formControlName="name"
                        class="flex h-10 w-full m-auto rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" 
                    />
                </div>

                <div class="flex justify-end w-full gap-4 mt-8 absolute bottom-0 right-0">
                    <button
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2 shrink-0">Cancelar</button>
                    <button
                        class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 w-40"
                        type="submit"
                    >
                        Guardar cambios
                    </button>
                </div>
            </form>
        </section>
    } @else if (this.currentTab === 1) {
        <section class="mt-8 bg-background rounded p-8 grid grid-cols-1 gap-4 border border-border h-full">
            <form class="h-full relative" [formGroup]="securitySettingsForm" (ngSubmit)="onSecuritySettingsFormSubmit()">
                <div class="flex border-b gap-4 border-border pb-4">
                    <div class="w-1/3">
                        <p class="font-bold">Contraseña</p>
                        <p class="text-muted-foreground">Utiliza algo que puedas recordar o utiliza un gestor de contraseñas</p>
                    </div>
                    <input 
                        type="password" 
                        placeholder="8 caracteres minimo..."
                        formControlName="password"
                        class="flex h-10 w-full m-auto rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" 
                    />
        
                </div>
                <div class="flex border-b gap-4 border-border py-6">
                    <div class="w-1/3 m-auto">
                        <p class="font-bold">Confirma tu Contraseña</p>
                        <p class="text-muted-foreground">Ingresa la misma contraseña que ingresaste anteriormente</p>
                    </div>
                    <input 
                        type="password" 
                        value=""
                        formControlName="confirmationPassword" 
                        placeholder="Confirma tu contraseña..."
                        class="flex h-10 w-full m-auto rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" 
                    />
                </div>
                <div class="flex justify-end w-full gap-4 mt-8 absolute bottom-0 right-0">
                    <button
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2 shrink-0">Cancelar</button>
                    <button
                        class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 w-40"
                        type="submit"
                    >
                        Cambiar contraseña
                    </button>
                </div>
            </form>
        </section>
    } @else if (this.currentTab === 2) {
        <section class="mt-8 bg-background rounded p-8 grid grid-cols-1 gap-4 border border-border h-full">
            <form class="h-full relative" [formGroup]="careerSettingsForm" (ngSubmit)="onCareerSettingsFormSubmit()">
                <div class="flex border-b gap-4 border-border pb-4">
                    <div class="w-1/3 m-auto">
                        <p class="font-bold">Carrera</p>
                        <p class="text-muted-foreground">Si por alguna razón cambiaste de carrera, puedes hacerlo una vez cada 6 meses</p>
                    </div>
                    <select 
                        formControlName="career_id"
                        class="flex h-10 w-full m-auto items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1"
                    >
                        <option value="0">Sin carrera</option>
                        <option value="1">Ingeniería en Computación (INCO)</option>
                        <option value="2">Ingeniería en Computación (ICOM)</option>
                        <option value="3">Ingeniería en Informática (INNI)</option>
                        <option value="4">Ingeniería en Informática (INFO)</option>
                        <option value="5">Ingeniería en Robótica</option>
                        <option value="6">Ingeniería en Comunicaciones y Electrónica</option>
                        <option value="7">Ingeniería Biomédica</option>
                    </select>
                </div>
                <div class="flex border-b gap-4 border-border py-6">
                    <div class="w-1/3 m-auto">
                        <p class="font-bold">Fecha de admisión</p>
                        <p class="text-muted-foreground">Ingresa la fecha en la que fuiste admitido en esta carrera</p>
                    </div>
                    <input 
                        type="date" 
                        formControlName="admission"
                        class="h-10 w-full m-auto rounded-md border border-input bg-background px-3 py-2 text-sm  placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:[color-scheme:dark] decoration-transparent" 
                    />
                </div>
                <div class="flex justify-end w-full gap-4 mt-8 absolute bottom-0 right-0">
                    <button
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/80 h-10 px-4 py-2 shrink-0">Cancelar</button>
                    <button
                        class="justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 w-40"
                        type="submit"
                    >
                        Cambiar carrera
                    </button>
                </div>
            </form>
        </section>
    }
</div>